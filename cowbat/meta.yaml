{% set name = "cowbat" %}
{% set version = "0.5.0.14" %}

package:
  name: '{{ name }}'
  version: {{ version }}

build:
  number: 0
  noarch: python
  script: python -m pip install --no-deps --ignore-installed .

source:
  git_url: https://github.com/OLC-Bioinformatics/COWBAT.git
  git_rev: master

requirements:
  host:
    - python=3.6.8=h0371630_0
  run:
    - python=3.6.8=h0371630_0
    - sipprverse=0.2.45=py_1
    - sistr_cmd=1.0.2=py36_0
    - fastqc=0.11.8=1
    - ectyper=0.8.1=py_0
    - qualimap=2.2.2c=0
    - skesa=2.3.0=hcfe0e84_1
    - clark=1.2.5.1=h6bb024c_0
    - mob_suite=2.0.0=py_0
    - quast=5.0.2=py36pl526ha92aebf_0
    - bedtools=2.17.0=0
    - seqsero2=1.0.2=py_0

test:
  imports:
    - cowbat
    - cowbat.get
    - cowbat.metagenomefilter
    - tests
  source_files:
    - tests
  requires:
    - pytest
  commands:
    - "assembly_pipeline.py -h"
    - "assembly_typing.py -h"
    - "pytest tests/test_imports.py -s -vv --maxfail=1"
    - "pytest tests/test_pipeline.py -s -vv --maxfail=1"

about:
  home: https://github.com/OLC-Bioinformatics/COWBAT
  license: MIT
  license_family: MIT
  license_file: ''
  summary: CFIA OLC Workflow for Bacterial Assembly and Typing
  description: 'CFIA OLC Workflow for Bacterial Assembly and Typing'
  doc_url: ''
  dev_url: ''

extra:
  recipe-maintainers: ''
