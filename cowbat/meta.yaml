{% set name = "cowbat" %}
{% set version = "0.5.0.20" %}

package:
  name: '{{ name }}'
  version: '{{ version }}'

source:
  url: https://files.pythonhosted.org/packages/d3/62/14ed973359bdbdd9ed195f2b142edb15ffb8ce7cc07ece352d2bb27ede2d/COWBAT-0.5.0.20.tar.gz
  sha256: d71ecde5b6f29e8e6613a11bd3ef4326df4816e726f5eeb21203304f48c90d5f

build:
  noarch: python
  number: 0
  script: python -m pip install --no-deps --ignore-installed .

requirements:
  host:
    - python=3.9.12=h9a8a25e_1_cpython
  run:
    - clark=1.2.6.1=h9f5acd7_2
    - ectyper=1.0.0=pyhdfd78af_1
    - fastqc=0.11.9=hdfd78af_1
    - mob_suite=3.0.3=py_olc
    - prodigal=2.6.3=hec16e2b_4
    - python=3.9.12=h9a8a25e_1_cpython
    - qualimap=2.2.2a=1
    - quast=5.0.2=py_olc
    - seqsero2=1.2.1=py_olc
    - sipprverse=0.2.49=py_2
    - sistr_cmd=1.1.1=pyh864c0ab_1
    - skesa=2.1=0

test:
  imports:
    - cowbat
    - cowbat.get
    - cowbat.metagenomefilter
    - tests
  source_files:
    - tests
  requires:
    - pytest
  commands:
    - "assembly_pipeline.py -h"
    - "assembly_typing.py -h"
    - "pytest tests/test_imports.py -s -vv --maxfail=1"
#    - "pytest tests/test_pipeline.py -s -vv --maxfail=1"

about:
  home: https://github.com/OLC-Bioinformatics/COWBAT
  license: MIT
  license_family: MIT
  license_file: ''
  summary: CFIA OLC Workflow for Bacterial Assembly and Typing
  description: 'CFIA OLC Workflow for Bacterial Assembly and Typing'
  doc_url: ''
  dev_url: ''

extra:
  recipe-maintainers: ''
